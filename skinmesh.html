<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Three.js Bones Browser</title>

    <style>
        .lil-gui {
            --background-color: #1f1f1f;
            --text-color: #ebebeb;
            --title-background-color: #111;
            --title-text-color: #ebebeb;
            --widget-color: #424242;
            --hover-color: #4f4f4f;
            --focus-color: #595959;
            --number-color: #2cc9ff;
            --string-color: #a2db3c;
            --font-size: 11px;
            --input-font-size: 11px;
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
            --padding: 4px;
            --spacing: 4px;
            --widget-height: 20px;
            --name-width: 45%;
            --slider-knob-width: 2px;
            --slider-input-width: 27%;
            --color-input-width: 27%;
            --slider-input-min-width: 45px;
            --color-input-min-width: 45px;
            --folder-indent: 7px;
            --widget-padding: 0 0 0 3px;
            --widget-border-radius: 2px;
            --checkbox-size: calc(var(--widget-height)*0.75);
            --scrollbar-width: 5px;
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: var(--font-size);
            font-style: normal;
            font-weight: 400;
            line-height: 1;
            text-align: left;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none
        }

        .lil-gui,
        .lil-gui * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        .lil-gui.root {
            display: flex;
            flex-direction: column;
            width: var(--width, 245px)
        }

        .lil-gui.root>.title {
            background: var(--title-background-color);
            color: var(--title-text-color)
        }

        .lil-gui.root>.children {
            overflow-x: hidden;
            overflow-y: auto
        }

        .lil-gui.root>.children::-webkit-scrollbar {
            background: var(--background-color);
            height: var(--scrollbar-width);
            width: var(--scrollbar-width)
        }

        .lil-gui.root>.children::-webkit-scrollbar-thumb {
            background: var(--focus-color);
            border-radius: var(--scrollbar-width)
        }

        .lil-gui.force-touch-styles {
            --widget-height: 28px;
            --padding: 6px;
            --spacing: 6px;
            --font-size: 13px;
            --input-font-size: 16px;
            --folder-indent: 10px;
            --scrollbar-width: 7px;
            --slider-input-min-width: 50px;
            --color-input-min-width: 65px
        }

        .lil-gui.autoPlace {
            max-height: 100%;
            position: fixed;
            right: 15px;
            top: 0;
            z-index: 1001
        }

        .lil-gui .controller {
            align-items: center;
            display: flex;
            margin: var(--spacing) 0;
            padding: 0 var(--padding)
        }

        .lil-gui .controller.disabled {
            opacity: .5
        }

        .lil-gui .controller.disabled,
        .lil-gui .controller.disabled * {
            pointer-events: none !important
        }

        .lil-gui .controller>.name {
            flex-shrink: 0;
            line-height: var(--widget-height);
            min-width: var(--name-width);
            padding-right: var(--spacing);
            white-space: pre
        }

        .lil-gui .controller .widget {
            align-items: center;
            display: flex;
            min-height: var(--widget-height);
            position: relative;
            width: 100%
        }

        .lil-gui .controller.string input {
            color: var(--string-color)
        }

        .lil-gui .controller.boolean .widget {
            cursor: pointer
        }

        .lil-gui .controller.color .display {
            border-radius: var(--widget-border-radius);
            height: var(--widget-height);
            position: relative;
            width: 100%
        }

        .lil-gui .controller.color input[type=color] {
            cursor: pointer;
            height: 100%;
            opacity: 0;
            width: 100%
        }

        .lil-gui .controller.color input[type=text] {
            flex-shrink: 0;
            font-family: var(--font-family-mono);
            margin-left: var(--spacing);
            min-width: var(--color-input-min-width);
            width: var(--color-input-width)
        }

        .lil-gui .controller.option select {
            max-width: 100%;
            opacity: 0;
            position: absolute;
            width: 100%
        }

        .lil-gui .controller.option .display {
            background: var(--widget-color);
            border-radius: var(--widget-border-radius);
            height: var(--widget-height);
            line-height: var(--widget-height);
            max-width: 100%;
            overflow: hidden;
            padding-left: .55em;
            padding-right: 1.75em;
            pointer-events: none;
            position: relative;
            word-break: break-all
        }

        .lil-gui .controller.option .display.active {
            background: var(--focus-color)
        }

        .lil-gui .controller.option .display:after {
            bottom: 0;
            content: "↕";
            font-family: lil-gui;
            padding-right: .375em;
            position: absolute;
            right: 0;
            top: 0
        }

        .lil-gui .controller.option .widget,
        .lil-gui .controller.option select {
            cursor: pointer
        }

        .lil-gui .controller.number input {
            color: var(--number-color)
        }

        .lil-gui .controller.number.hasSlider input {
            flex-shrink: 0;
            margin-left: var(--spacing);
            min-width: var(--slider-input-min-width);
            width: var(--slider-input-width)
        }

        .lil-gui .controller.number .slider {
            background-color: var(--widget-color);
            border-radius: var(--widget-border-radius);
            cursor: ew-resize;
            height: var(--widget-height);
            overflow: hidden;
            padding-right: var(--slider-knob-width);
            touch-action: pan-y;
            width: 100%
        }

        .lil-gui .controller.number .slider.active {
            background-color: var(--focus-color)
        }

        .lil-gui .controller.number .slider.active .fill {
            opacity: .95
        }

        .lil-gui .controller.number .fill {
            border-right: var(--slider-knob-width) solid var(--number-color);
            box-sizing: content-box;
            height: 100%
        }

        .lil-gui-dragging .lil-gui {
            --hover-color: var(--widget-color)
        }

        .lil-gui-dragging * {
            cursor: ew-resize !important
        }

        .lil-gui-dragging.lil-gui-vertical * {
            cursor: ns-resize !important
        }

        .lil-gui .title {
            --title-height: calc(var(--widget-height) + var(--spacing)*1.25);
            -webkit-tap-highlight-color: transparent;
            text-decoration-skip: objects;
            cursor: pointer;
            font-weight: 600;
            height: var(--title-height);
            line-height: calc(var(--title-height) - 4px);
            outline: none;
            padding: 0 var(--padding)
        }

        .lil-gui .title:before {
            content: "▾";
            display: inline-block;
            font-family: lil-gui;
            padding-right: 2px
        }

        .lil-gui .title:active {
            background: var(--title-background-color);
            opacity: .75
        }

        .lil-gui.root>.title:focus {
            text-decoration: none !important
        }

        .lil-gui.closed>.title:before {
            content: "▸"
        }

        .lil-gui.closed>.children {
            opacity: 0;
            transform: translateY(-7px)
        }

        .lil-gui.closed:not(.transition)>.children {
            display: none
        }

        .lil-gui.transition>.children {
            overflow: hidden;
            pointer-events: none;
            transition-duration: .3s;
            transition-property: height, opacity, transform;
            transition-timing-function: cubic-bezier(.2, .6, .35, 1)
        }

        .lil-gui .children:empty:before {
            content: "Empty";
            display: block;
            font-style: italic;
            height: var(--widget-height);
            line-height: var(--widget-height);
            margin: var(--spacing) 0;
            opacity: .5;
            padding: 0 var(--padding)
        }

        .lil-gui.root>.children>.lil-gui>.title {
            border-width: 0;
            border-bottom: 1px solid var(--widget-color);
            border-left: 0 solid var(--widget-color);
            border-right: 0 solid var(--widget-color);
            border-top: 1px solid var(--widget-color);
            transition: border-color .3s
        }

        .lil-gui.root>.children>.lil-gui.closed>.title {
            border-bottom-color: transparent
        }

        .lil-gui+.controller {
            border-top: 1px solid var(--widget-color);
            margin-top: 0;
            padding-top: var(--spacing)
        }

        .lil-gui .lil-gui .lil-gui>.title {
            border: none
        }

        .lil-gui .lil-gui .lil-gui>.children {
            border: none;
            border-left: 2px solid var(--widget-color);
            margin-left: var(--folder-indent)
        }

        .lil-gui .lil-gui .controller {
            border: none
        }

        .lil-gui input {
            -webkit-tap-highlight-color: transparent;
            background: var(--widget-color);
            border: 0;
            border-radius: var(--widget-border-radius);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: var(--input-font-size);
            height: var(--widget-height);
            outline: none;
            width: 100%
        }

        .lil-gui input:disabled {
            opacity: 1
        }

        .lil-gui input[type=number],
        .lil-gui input[type=text] {
            padding: var(--widget-padding)
        }

        .lil-gui input[type=number]:focus,
        .lil-gui input[type=text]:focus {
            background: var(--focus-color)
        }

        .lil-gui input::-webkit-inner-spin-button,
        .lil-gui input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0
        }

        .lil-gui input[type=number] {
            -moz-appearance: textfield
        }

        .lil-gui input[type=checkbox] {
            appearance: none;
            -webkit-appearance: none;
            border-radius: var(--widget-border-radius);
            cursor: pointer;
            height: var(--checkbox-size);
            text-align: center;
            width: var(--checkbox-size)
        }

        .lil-gui input[type=checkbox]:checked:before {
            content: "✓";
            font-family: lil-gui;
            font-size: var(--checkbox-size);
            line-height: var(--checkbox-size)
        }

        .lil-gui button {
            -webkit-tap-highlight-color: transparent;
            background: var(--widget-color);
            border: 1px solid var(--widget-color);
            border-radius: var(--widget-border-radius);
            color: var(--text-color);
            cursor: pointer;
            font-family: var(--font-family);
            font-size: var(--font-size);
            height: var(--widget-height);
            line-height: calc(var(--widget-height) - 4px);
            outline: none;
            text-align: center;
            text-transform: none;
            width: 100%
        }

        .lil-gui button:active {
            background: var(--focus-color)
        }

        @font-face {
            font-family: lil-gui;
            src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")
        }

        @media (pointer:coarse) {
            .lil-gui.allow-touch-styles {
                --widget-height: 28px;
                --padding: 6px;
                --spacing: 6px;
                --font-size: 13px;
                --input-font-size: 16px;
                --folder-indent: 10px;
                --scrollbar-width: 7px;
                --slider-input-min-width: 50px;
                --color-input-min-width: 65px
            }
        }

        @media (hover:hover) {
            .lil-gui .controller.color .display:hover:before {
                border: 1px solid #fff9;
                border-radius: var(--widget-border-radius);
                bottom: 0;
                content: " ";
                display: block;
                left: 0;
                position: absolute;
                right: 0;
                top: 0
            }

            .lil-gui .controller.option .display.focus {
                background: var(--focus-color)
            }

            .lil-gui .controller.option .widget:hover .display {
                background: var(--hover-color)
            }

            .lil-gui .controller.number .slider:hover {
                background-color: var(--hover-color)
            }

            body:not(.lil-gui-dragging) .lil-gui .title:hover {
                background: var(--title-background-color);
                opacity: .85
            }

            .lil-gui .title:focus {
                text-decoration: underline var(--focus-color)
            }

            .lil-gui input:hover {
                background: var(--hover-color)
            }

            .lil-gui input:active {
                background: var(--focus-color)
            }

            .lil-gui input[type=checkbox]:focus {
                box-shadow: inset 0 0 0 1px var(--focus-color)
            }

            .lil-gui button:hover {
                background: var(--hover-color);
                border-color: var(--hover-color)
            }

            .lil-gui button:focus {
                border-color: var(--focus-color)
            }
        }
    </style>
   
    <style>
        body{
            overflow: hidden;
            margin:0;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        #newWindow {
            display: block;
            position: absolute;
            bottom: 0.3em;
            left: 0.5em;
            color: #fff;
        }
    </style>
</head>

<body>
    <script type="importmap">
			{
                "imports": {
                    "three": "./three.module.js",
                    "three/addons/": "./jsm/"
                }
			}
		</script>


    <script type="module">
        import {
            Bone,
            Color,
            CylinderGeometry,
            DirectionalLight,
            DoubleSide,
            Float32BufferAttribute,
            MeshPhongMaterial,
            PerspectiveCamera,
            Scene,
            SkinnedMesh,
            Skeleton,
            SkeletonHelper,
            Vector3,
            Uint16BufferAttribute,
            WebGLRenderer,
            BoxGeometry
        } from 'three';

        import { GUI } from 'three/addons/lil-gui.module.min.js';
        import { OrbitControls } from 'three/addons/OrbitControls.js';

        let gui, scene, camera, renderer, orbit, lights, mesh, bones, skeletonHelper;

        const state = {
            animateBones: false
        };

        function initScene() {

            gui = new GUI();

            scene = new Scene();
            scene.background = new Color(0x444444);

            camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 200);
            camera.position.z = 30;
            camera.position.y = 30;

            renderer = new WebGLRenderer({ antialias: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            orbit = new OrbitControls(camera, renderer.domElement);
            orbit.enableZoom = false;

            lights = [];
            lights[0] = new DirectionalLight(0xffffff, 3);
            lights[1] = new DirectionalLight(0xffffff, 3);
            lights[2] = new DirectionalLight(0xffffff, 3);

            lights[0].position.set(0, 200, 0);
            lights[1].position.set(100, 200, 100);
            lights[2].position.set(- 100, - 200, - 100);

            scene.add(lights[0]);
            scene.add(lights[1]);
            scene.add(lights[2]);

            window.addEventListener('resize', function () {

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize(window.innerWidth, window.innerHeight);

            }, false);

            initBones();
            setupDatGui();

        }

        function createGeometry(sizing) {

            // const geometry = new CylinderGeometry(
            //     5, // radiusTop
            //     5, // radiusBottom
            //     sizing.height, // height
            //     8, // radiusSegments
            //     sizing.segmentCount * 3, // heightSegments
            //     true // openEnded
            // );
            const geometry = new BoxGeometry(
                5.,
                sizing.height,
                5.,
                2.,
                sizing.segmentCount * 3,
            
            )
            const position = geometry.attributes.position;

            const vertex = new Vector3();

            const skinIndices = [];
            const skinWeights = [];

            for (let i = 0; i < position.count; i++) {

                vertex.fromBufferAttribute(position, i);

                const y = (vertex.y + sizing.halfHeight);

                const skinIndex = Math.floor(y / sizing.segmentHeight);
                const skinWeight = (y % sizing.segmentHeight) / sizing.segmentHeight;

                skinIndices.push(skinIndex, skinIndex + 1, 0, 0);
                skinWeights.push(1 - skinWeight, skinWeight, 0, 0);

            }

            geometry.setAttribute('skinIndex', new Uint16BufferAttribute(skinIndices, 4));
            geometry.setAttribute('skinWeight', new Float32BufferAttribute(skinWeights, 4));

            return geometry;

        }

        function createBones(sizing) {

            bones = [];

            let prevBone = new Bone();
            bones.push(prevBone);
            prevBone.position.y = - sizing.halfHeight;

            for (let i = 0; i < sizing.segmentCount; i++) {

                const bone = new Bone();
                bone.position.y = sizing.segmentHeight;
                bones.push(bone);
                prevBone.add(bone);
                prevBone = bone;

            }

            return bones;

        }

        function createMesh(geometry, bones) {

            const material = new MeshPhongMaterial({
                color: 0x156289,
                emissive: 0x072534,
                side: DoubleSide,
                flatShading: true
            });

            const mesh = new SkinnedMesh(geometry, material);
            const skeleton = new Skeleton(bones);
            mesh.material.wireframe = true
            mesh.add(bones[0]);

            mesh.bind(skeleton);

            skeletonHelper = new SkeletonHelper(mesh);
            skeletonHelper.material.linewidth = 2;
            console.log(mesh)
            scene.add(skeletonHelper);

            return mesh;

        }

        function setupDatGui() {

            let folder = gui.addFolder('General Options');

            folder.add(state, 'animateBones');
            folder.controllers[0].name('Animate Bones');

            folder.add(mesh, 'pose');
            folder.controllers[1].name('.pose()');

            const bones = mesh.skeleton.bones;

            for (let i = 0; i < bones.length; i++) {

                const bone = bones[i];

                folder = gui.addFolder('Bone ' + i);

                folder.add(bone.position, 'x', - 10 + bone.position.x, 10 + bone.position.x);
                folder.add(bone.position, 'y', - 10 + bone.position.y, 10 + bone.position.y);
                folder.add(bone.position, 'z', - 10 + bone.position.z, 10 + bone.position.z);

                folder.add(bone.rotation, 'x', - Math.PI * 0.5, Math.PI * 0.5);
                folder.add(bone.rotation, 'y', - Math.PI * 0.5, Math.PI * 0.5);
                folder.add(bone.rotation, 'z', - Math.PI * 0.5, Math.PI * 0.5);

                folder.add(bone.scale, 'x', 0, 2);
                folder.add(bone.scale, 'y', 0, 2);
                folder.add(bone.scale, 'z', 0, 2);

                folder.controllers[0].name('position.x');
                folder.controllers[1].name('position.y');
                folder.controllers[2].name('position.z');

                folder.controllers[3].name('rotation.x');
                folder.controllers[4].name('rotation.y');
                folder.controllers[5].name('rotation.z');

                folder.controllers[6].name('scale.x');
                folder.controllers[7].name('scale.y');
                folder.controllers[8].name('scale.z');

            }

        }

        function initBones() {

            const segmentHeight = 8;
            const segmentCount = 4;
            const height = segmentHeight * segmentCount;
            const halfHeight = height * 0.5;

            const sizing = {
                segmentHeight: segmentHeight,
                segmentCount: segmentCount,
                height: height,
                halfHeight: halfHeight
            };

            const geometry = createGeometry(sizing);
            const bones = createBones(sizing);
            mesh = createMesh(geometry, bones);

            mesh.scale.multiplyScalar(-1);
            scene.add(mesh);

        }

        function render() {

            requestAnimationFrame(render);

            const time = Date.now() * 0.001;

            //Wiggle the bones
            // if (state.animateBones) {

            //     for (let i = 0; i < mesh.skeleton.bones.length; i++) {

            //         mesh.skeleton.bones[i].rotation.z = Math.sin(time) * 2 / mesh.skeleton.bones.length;

            //     }

            // }

            renderer.render(scene, camera);

        }

        initScene();
        render();

    </script>


    <div class="lil-gui allow-touch-styles root autoPlace">
        <div class="title" role="button" aria-expanded="true" tabindex="0">Controls</div>
        <div class="children">
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">General Options</div>
                <div class="children">
                    <div class="controller boolean">
                        <div class="name" id="lil-gui-name-1">Animate Bones</div><label class="widget"><input
                                type="checkbox" aria-labelledby="lil-gui-name-1"></label>
                    </div>
                    <div class="controller function">
                        <div class="widget"><button>
                                <div class="name" id="lil-gui-name-2">.pose()</div>
                            </button></div>
                    </div>
                </div>
            </div>
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">Bone 0</div>
                <div class="children">
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-3">position.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-3">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-4">position.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-4">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-5">position.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-5">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-6">rotation.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-6">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-7">rotation.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-7">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-8">rotation.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-8">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-9">scale.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-9">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-10">scale.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-10">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-11">scale.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-11">
                        </div>
                    </div>
                </div>
            </div>
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">Bone 1</div>
                <div class="children">
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-12">position.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-12">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-13">position.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-13">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-14">position.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-14">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-15">rotation.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-15">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-16">rotation.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-16">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-17">rotation.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-17">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-18">scale.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-18">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-19">scale.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-19">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-20">scale.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-20">
                        </div>
                    </div>
                </div>
            </div>
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">Bone 2</div>
                <div class="children">
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-21">position.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-21">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-22">position.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-22">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-23">position.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-23">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-24">rotation.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-24">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-25">rotation.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-25">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-26">rotation.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-26">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-27">scale.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-27">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-28">scale.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-28">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-29">scale.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-29">
                        </div>
                    </div>
                </div>
            </div>
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">Bone 3</div>
                <div class="children">
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-30">position.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-30">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-31">position.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-31">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-32">position.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-32">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-33">rotation.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-33">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-34">rotation.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-34">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-35">rotation.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-35">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-36">scale.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-36">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-37">scale.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-37">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-38">scale.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-38">
                        </div>
                    </div>
                </div>
            </div>
            <div class="lil-gui allow-touch-styles">
                <div class="title" role="button" aria-expanded="true" tabindex="0">Bone 4</div>
                <div class="children">
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-39">position.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-39">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-40">position.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-40">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-41">position.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-41">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-42">rotation.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-42">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-43">rotation.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-43">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-44">rotation.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-44">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-45">scale.x</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-45">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-46">scale.y</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-46">
                        </div>
                    </div>
                    <div class="controller number hasSlider">
                        <div class="name" id="lil-gui-name-47">scale.z</div>
                        <div class="widget">
                            <div class="slider">
                                <div class="fill" style="width: 50%;"></div>
                            </div><input type="number" step="any" aria-labelledby="lil-gui-name-47">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><canvas data-engine="three.js r165" __spector_context_type="webgl2" width="1222" height="715"
        style="display: block; width: 1358px; height: 795px; touch-action: none;"></canvas>
</body>

</html>